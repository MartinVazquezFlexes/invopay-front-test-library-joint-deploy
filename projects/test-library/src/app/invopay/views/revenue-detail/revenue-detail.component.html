<form >
<app-title-page 
[title]="'NEW_VAR.DETAIL_RECAUDATION' | translate"
[showBackButton]="true"
(backButtonClick)="onBackButtonClick()"
></app-title-page>


<div  class="card-container">
  <div  class="card">
    <div class="card-header">
      <span class="card-title">{{'NEW_VAR.INF_GENERAL'|translate}}</span>
    </div>
    <div *ngIf="dataShow?.transactionData" class="card-body-3">
      <div class="inner-card">
           <app-disabled-input
            inputId="revenueDate"
            [label]="'NEW_VAR.DATE' | translate"
            [value]="dataShow?.transactionData?.revenueDate"
          ></app-disabled-input>
      </div>
      <div class="inner-card">
           <app-disabled-input
            inputId="paymentChanel"
            [label]="'NEW_VAR.PAYMEN_CHANNEL' | translate"
            [value]="dataShow?.transactionData?.paymentChannel"
          ></app-disabled-input>
      </div>
      <div class="inner-card">
          <app-disabled-input
            inputId="paymentProvider"
            [label]="'NEW_VAR.PAYMENT_PROVIDER' | translate"
            [value]="dataShow?.transactionData?.paymentProvider"
          ></app-disabled-input>
      </div>
      <div class="inner-card">
           <app-disabled-input
            inputId="currency"
            [label]="'IP.CURRENCY' | translate"
            [value]="dataShow?.transactionData?.currency"
          ></app-disabled-input>
      </div>
      <div class="inner-card">
         <app-disabled-input
            inputId="collectedAmount"
            [label]="'NEW_VAR.COLLECTED_AMOUNT' | translate"
            [value]="dataShow?.transactionData?.amount"
          ></app-disabled-input>
      </div>
      <div *ngIf="dataShow?.transactionData?.transactionObservations?.length!=0" class="inner-card">
           <app-disabled-input
            inputId="observations"
            [label]="'IP.OBSERVATIONS.TITLE' | translate"
            [value]="dataShow?.transactionData?.transactionObservations"
          ></app-disabled-input>
      </div>
    </div>
  </div>
</div>


<div *ngIf="dataShow?.conciliationData"  class="card-container" >
  <div  *ngIf="dataShow?.conciliationData?.isConsolidated && dataShow?.policyData && dataShow?.transactionData" class="card">
    <div class="card-header">
      <span class="card-title">{{'NEW_VAR.CONSILIATION_DATA'|translate}} </span>
    </div>
    <div class="card-body-4">
      <div class="inner-card">
          <app-disabled-input
            inputId="consolidated"
            [label]="'NEW_VAR.CONSOLIDATED' | translate"
            [value]="dataShow?.conciliationData?.isConsolidated"
          ></app-disabled-input>
      </div>
      <div class="inner-card">
           <app-disabled-input
            inputId="consolidatedProductName"
            [label]="'IP.SETTLEMENTS.DETAILS.PRODUCT_NAME' | translate"
            [value]="dataShow?.conciliationData?.productName"
          ></app-disabled-input>
      </div>
      <div class="inner-card">
           <app-disabled-input
            inputId="policyNumber"
            [label]="'NEW_VAR.POLICY_NUMBER' | translate"
            [value]="dataShow?.policyData?.number"
          ></app-disabled-input>
      </div>
       <div class="inner-card">
           <app-disabled-input
            inputId="collectedAmount"
            [label]="'NEW_VAR.COLLECTED_AMOUNT' | translate"
            [value]="dataShow?.transactionData?.currency+' '+dataShow?.policyData?.amount"
          ></app-disabled-input>
      </div>
      <div class="inner-card">
          <app-disabled-input
            inputId="paymmentNumber"
            [label]="'IP.CONSOLIDATED.PAYMENT_NUMBER' | translate"
            [value]="dataShow?.conciliationData?.paymentNumber"
          ></app-disabled-input>
      </div>
       <div class="inner-card">
            <app-disabled-input
            inputId="paymmentValue"
            [label]="'NEW_VAR.PAYMENT_VALUE' | translate"
            [value]="dataShow?.transactionData?.currency+' '+dataShow?.conciliationData?.paymentValue"
          ></app-disabled-input>
      </div>

      <div class="inner-card">
           <app-disabled-input
            inputId="brokerFullname"
            [label]="'IP.CARD_TABLE.INVOICE.BROKERFULLNAME' | translate"
            [value]="dataShow?.conciliationData?.brokerName"
          ></app-disabled-input>
      </div>
    </div>
  </div>
</div>

<div *ngIf="dataShow?.conciliationData"  class="card-container" >
  <div   *ngIf="dataShow?.conciliationData?.isConsolidated && dataShow?.policyData " class="card">
    
    <div class="card-header">
      <span class="card-title">{{'NEW_VAR.POLICY_DATA'|translate}}</span>
    </div>
    <div class="card-body-3">
      <div class="inner-card">
            <app-disabled-input
            inputId="productName"
            [label]="'IP.SETTLEMENTS.DETAILS.PRODUCT_NAME' | translate"
            [value]="dataShow?.policyData?.productName"
          ></app-disabled-input>
      </div>
         <div class="inner-card">
         <app-disabled-input
            inputId="policyNumber"
            [label]="'NEW_VAR.POLICY_NUMBER' | translate"
            [value]="dataShow?.policyData?.number"
          ></app-disabled-input>
      </div>   
      <div class="inner-card">
           <app-disabled-input
            inputId="dateSale"
            [label]="'IP.SETTLEMENTS.DETAILS.DATE_SALE' | translate"
            [value]="dataShow?.policyData?.saleDate"
          ></app-disabled-input>
      </div> 
        <div class="inner-card">
          <app-disabled-input
            inputId="policyAmount"
            [label]="'NEW_VAR.POLICY_AMOUNT' | translate"
            [value]="dataShow?.policyData?.amount"
          ></app-disabled-input>
      </div> 
     <div class="inner-card">
          <app-disabled-input
            inputId="premiumAmount"
            [label]="'NEW_VAR.PREMIUM_AMOUNT' | translate"
            [value]="dataShow?.policyData?.premiumAmount"
          ></app-disabled-input>
     </div>
          <div *ngIf="!isMobile"  class="card-2">
             <div class="card-table">
                    <label> {{'NEW_VAR.PREMIUM_PLAN_PAYMENT'|translate}}</label>
                    <app-table
                    [keyTranslate]="''"
                    [propertyOrder]="columnsHeaders"
                    [data]="dataShow.policyData.premiumPaymentPlan"
                    [actions]="[]"
                    [tableStyle]="'invopay'"
                    [isForSelectItem]="false"
                    [scroll]="true"
                    [keyTranslate]="''"
                    [titlesFile]="titlesMap"
                    ></app-table>
                <app-no-data *ngIf="dataShow.policyData.premiumPaymentPlan.length<1"></app-no-data>
             </div>
            </div>
             
             <div *ngIf="isMobile" class="card-2">
              <div class="card-table">
              <label> {{'NEW_VAR.PREMIUM_PLAN_PAYMENT'|translate}}</label>
               <div  class="card-mobile">
                  <div   class="payment-card-mobile-container" *ngFor="let item of dataShow.policyData.premiumPaymentPlan; let i = index">
                      <div class="payment-card-mobile-data">
                      <div class="card-header-mobile">
                      <span class="card-id-mobile">#{{ item?.installmentNumber }}</span>
                      </div>
                      <div class="card-body-mobile">
                      <div class="info-row-mobile">
                          <span class="info-label-mobile">{{'NEW_VAR.PAYMENT_VALUE'|translate}}</span>
                          <span class="info-value-mobile">{{dataShow?.transactionData?.currency}} {{ item?.amount }}</span>
                      </div>
                      <div class="info-row-mobile">
                        <span class="info-label-mobile">{{'IP.BILL_DETAILS.EXPIRY_DATE'|translate}}</span>
                        <span class="info-value-mobile">{{item?.dueDate}}</span>
                      </div>
                      </div>
                  </div>
                  <app-no-data *ngIf="dataShow?.policyData?.premiumPaymentPlan?.length < 1"></app-no-data>
                  </div>
              </div>                   
            </div>
            </div>


     </div>

  </div>
</div>
  

</form>

